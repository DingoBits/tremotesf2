if (SAILFISHOS)
    set(app_icons "sailfishos/hicolor")
    set(desktop_file "sailfishos/harbour-tremotesf.desktop")
    install(FILES "sailfishos/cover.svg" DESTINATION "${DATA_PATH}")
else()
    set(app_icons "desktop/hicolor")
    set(desktop_file "desktop/org.equeim.Tremotesf.desktop")

    if (TEST_BUILD)
        set(icons_path "${CMAKE_SOURCE_DIR}/data/desktop/status")
    else()
        set(icons_path "${DATA_PATH}/icons")
        if (NOT WIN32)
            install(DIRECTORY "desktop/status/" DESTINATION "${icons_path}")
        endif()
    endif()
    set(ICONS_PATH "${icons_path}" PARENT_SCOPE)
endif()

if (NOT TEST_BUILD AND NOT WIN32)
    install(DIRECTORY "${app_icons}" DESTINATION "${CMAKE_INSTALL_DATADIR}/icons")
    install(FILES "${desktop_file}" DESTINATION "${CMAKE_INSTALL_DATADIR}/applications")
endif()
